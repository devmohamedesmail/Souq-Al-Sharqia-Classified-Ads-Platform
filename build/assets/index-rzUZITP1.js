import{r as h,j as e,L as u,H as y}from"./app-Ct5iH9AX.js";import{T as v,M as N,F as k,B as A}from"./TopHeader-C47ExKmn.js";import{A as C}from"./AdItemHorzintal-BvAdxaZw.js";import{p,h as j,q as w,r as b}from"./index-BaoV91dN.js";import{u as f}from"./useTranslation-ByOnQA1x.js";/* empty css            */import"./iconBase-C1nRxIP1.js";function _({categories:i,ads:c}){const{t:a}=f(),[o,x]=h.useState(null),n=h.useRef({}),d=l=>c.filter(t=>t.subcategory_id===l),m=(l,t)=>{const s=n.current[t];s&&s.scrollBy({left:l==="left"?-250:250,behavior:"smooth"})};return e.jsx("aside",{className:"md:w-1/4 w-full order-2 md:order-1",children:e.jsxs("div",{className:"bg-white rounded-2xl shadow p-4 sticky top-8",children:[e.jsx("h2",{className:"text-main font-bold text-lg mb-4 text-center",children:"Ø§Ù„ØªØµÙ†ÙŠÙØ§Øª"}),e.jsx("ul",{className:"space-y-2",children:i.map((l,t)=>e.jsxs("li",{children:[e.jsxs("button",{className:"w-full flex items-center justify-between px-4 py-3 rounded-lg transition font-semibold text-main bg-main/5 hover:bg-main/10 mb-1",onClick:()=>x(o===l.id?null:l.id),children:[e.jsxs("span",{className:"flex items-center gap-2",children:[l.image&&e.jsx("img",{src:l.image,alt:l.title_ar,className:"w-7 h-7 rounded-full border"}),l.title_ar]}),e.jsx(p,{className:`transition-transform ${o===l.id?"rotate-180":""}`})]}),e.jsx("div",{className:`overflow-hidden transition-all duration-300 ${o===l.id?"max-h-[1000px] py-2":"max-h-0 py-0"}`,children:e.jsx("ul",{className:"pl-6 space-y-1",children:l.subcategories&&l.subcategories.map(s=>e.jsxs("li",{children:[e.jsxs("div",{className:"font-semibold text-sky-700 flex items-center gap-2 py-1",children:[s.image&&e.jsx("img",{src:s.image,alt:s.title_ar,className:"w-5 h-5 rounded-full border"}),s.title_ar,e.jsx("span",{className:"ml-2 bg-yellow-100 text-yellow-700 rounded-full px-2 py-0.5 text-xs font-bold",children:d(s.id).length})]}),d(s.id).length===0?e.jsx("div",{className:"text-xs text-gray-400 pl-6",children:a("no_ads_found")}):e.jsxs("div",{children:[e.jsxs("div",{ref:r=>{n.current[s.id]=r},className:"overflow-x-auto py-2",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-x",scrollbarWidth:"none",msOverflowStyle:"none"},children:[e.jsx("ul",{className:"flex space-x-4 min-w-full",style:{scrollSnapType:"x mandatory"},children:d(s.id).map(r=>e.jsxs("li",{className:"bg-white rounded-xl shadow-md flex flex-col w-56 min-w-[14rem] max-w-xs items-center gap-2 p-2 border border-main/10 hover:shadow-lg transition-all duration-200",style:{scrollSnapAlign:"start"},children:[e.jsx("div",{className:"w-full h-28 flex items-center justify-center bg-gray-100 rounded-lg overflow-hidden",children:r.images&&r.images.length>0?e.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover"}):e.jsxs("span",{className:"text-gray-400 text-xs",children:[" ",a("no_image")," "]})}),e.jsxs("div",{className:"flex-1 w-full flex flex-col gap-0.5",children:[e.jsx("h3",{className:"text-main font-bold text-sm truncate",children:r.title}),e.jsxs("div",{className:"text-green-600 font-semibold text-xs",children:[r.price," Ø¯Ø±Ù‡Ù…"]}),e.jsx("div",{className:"flex flex-wrap gap-1",children:r.places&&r.places.map(g=>e.jsxs("span",{className:"flex items-center gap-1 bg-yellow-100 text-yellow-700 px-2 py-0.5 rounded-full text-xs",children:[e.jsx(j,{className:"text-yellow-400"}),g.name]},g.id))})]}),e.jsx(u,{href:`/ads/${r.slug}`,className:"bg-main text-white px-3 py-1 rounded-full font-bold hover:bg-main/90 transition text-center text-xs mt-1",children:a("details")})]},r.id))}),e.jsx("style",{children:`
                                /* Hide scrollbar for Chrome, Safari and Opera */
                                div::-webkit-scrollbar {
                                  display: none;
                                }
                              `})]}),e.jsxs("div",{className:"flex justify-center gap-4 mt-2",children:[e.jsx("button",{onClick:()=>m("left",s.id),className:"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white rounded-full p-2 shadow-lg transition-all duration-200 flex items-center justify-center border-2 border-white hover:border-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-400","aria-label":"Scroll left",children:e.jsx(w,{size:22,className:"drop-shadow"})}),e.jsx("button",{onClick:()=>m("right",s.id),className:"bg-gradient-to-r from-yellow-400 to-yellow-600 hover:from-yellow-500 hover:to-yellow-700 text-white rounded-full p-2 shadow-lg transition-all duration-200 flex items-center justify-center border-2 border-white hover:border-yellow-700 focus:outline-none focus:ring-2 focus:ring-yellow-400","aria-label":"Scroll right",children:e.jsx(b,{size:22,className:"drop-shadow"})})]})]})]},s.id))})})]},l.id))})]})})}function S({categories:i,ads:c}){const[a,o]=h.useState(null),x=h.useRef({}),{t:n}=f(),d=l=>c.filter(t=>t.subcategory_id===l),m=(l,t)=>{const s=x.current[t];s&&s.scrollBy({left:l==="left"?-280:280,behavior:"smooth"})};return e.jsxs("div",{className:"w-full h-full bg-white overflow-hidden flex flex-col p-0",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-main/5 to-main/10",children:[e.jsx("h2",{className:"text-main font-bold text-2xl text-center mb-1",children:n("categories")}),e.jsx("p",{className:"text-gray-600 text-sm text-center",children:n("select-category-desc")})]}),e.jsx("div",{className:"flex-1 overflow-y-auto p-0 pb-24",children:e.jsx("div",{className:"space-y-3",children:i.map(l=>{var t;return e.jsxs("div",{className:"bg-gray-50 rounded-xl border border-gray-200 overflow-hidden",children:[e.jsxs("button",{className:"w-full flex items-center justify-between p-4 hover:bg-gray-100 transition-all duration-200",onClick:()=>o(a===l.id?null:l.id),children:[e.jsxs("div",{className:"flex items-center gap-3",children:[l.image&&e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden border-2 border-main/20 shadow-sm",children:e.jsx("img",{src:l.image,alt:l.title_ar,className:"w-full h-full object-cover"})}),e.jsx("span",{className:"font-semibold text-gray-800 text-lg",children:l.title_ar})]}),e.jsx(p,{className:`text-main transition-transform duration-300 ${a===l.id?"rotate-180":""}`})]}),e.jsx("div",{className:`transition-all duration-500 overflow-hidden ${a===l.id?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:e.jsx("div",{className:"p-4 pt-0 space-y-4",children:(t=l.subcategories)==null?void 0:t.map(s=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-100 p-4 shadow-sm",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[s.image&&e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-200",children:e.jsx("img",{src:s.image,alt:s.title_ar,className:"w-full h-full object-cover"})}),e.jsx("h3",{className:"font-semibold text-gray-800",children:s.title_ar})]}),e.jsx("span",{className:"bg-main text-white rounded-full px-3 py-1 text-xs font-bold",children:d(s.id).length})]}),d(s.id).length===0?e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("div",{className:"text-4xl mb-2",children:"ðŸ“­"}),e.jsxs("p",{className:"text-sm",children:[" ",n("no_ads_found"),"  "]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{ref:r=>{x.current[s.id]=r},className:"overflow-x-auto scrollbar-hide",style:{WebkitOverflowScrolling:"touch",touchAction:"pan-x",scrollbarWidth:"none",msOverflowStyle:"none"},children:e.jsx("div",{className:"flex gap-4 pb-2",style:{minWidth:"max-content"},children:d(s.id).map(r=>e.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 shadow-sm hover:shadow-md transition-all duration-200 w-64 flex-shrink-0 group",children:[e.jsx("div",{className:"relative h-32 bg-gray-100 rounded-t-lg overflow-hidden",children:r.images&&r.images.length>0?e.jsx("img",{src:r.images[0],alt:r.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-200"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsxs("div",{className:"text-center text-gray-400",children:[e.jsx("div",{className:"text-2xl mb-1",children:"ðŸ–¼ï¸"}),e.jsxs("span",{className:"text-xs",children:[" ",n("no_image"),"  "]})]})})}),e.jsxs("div",{className:"p-3 space-y-2",children:[e.jsx("h4",{className:"font-semibold text-gray-800 text-sm leading-tight line-clamp-2",children:r.title}),e.jsxs("div",{className:"text-green-600 font-bold text-lg",children:[r.price," Ø¯Ø±Ù‡Ù…"]}),r.places&&r.places.length>0&&e.jsxs("div",{className:"flex items-center gap-1 text-gray-500",children:[e.jsx(j,{className:"text-yellow-500 text-xs flex-shrink-0"}),e.jsx("span",{className:"text-xs truncate",children:r.places[0].name})]}),e.jsx(u,{href:`/ads/${r.slug}`,className:"block w-full bg-main hover:bg-main/90 text-white text-sm font-medium py-2.5 rounded-lg text-center transition-colors duration-200 mt-3",children:n("details")})]})]},r.id))})}),d(s.id).length>1&&e.jsxs("div",{className:"flex justify-center items-center gap-3 pt-2",children:[e.jsx("button",{onClick:()=>m("left",s.id),className:"bg-white hover:bg-main text-main hover:text-white border border-main/30 hover:border-main rounded-full p-2.5 shadow-sm hover:shadow-md transition-all duration-200","aria-label":"Ø§Ù„Ø³Ø§Ø¨Ù‚",children:e.jsx(w,{size:16})}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 bg-main rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"}),e.jsx("div",{className:"w-2 h-2 bg-gray-300 rounded-full"})]}),e.jsx("button",{onClick:()=>m("right",s.id),className:"bg-white hover:bg-main text-main hover:text-white border border-main/30 hover:border-main rounded-full p-2.5 shadow-sm hover:shadow-md transition-all duration-200","aria-label":"Ø§Ù„ØªØ§Ù„ÙŠ",children:e.jsx(b,{size:16})})]})]})]},s.id))})})]},l.id)})})}),e.jsx("style",{children:`
                    .scrollbar-hide::-webkit-scrollbar {
                        display: none;
                    }
                    .scrollbar-hide {
                        -ms-overflow-style: none;
                        scrollbar-width: none;
                    }
                    .line-clamp-2 {
                        display: -webkit-box;
                        -webkit-line-clamp: 2;
                        -webkit-box-orient: vertical;
                        overflow: hidden;
                    }
                `})]})}function $({ads:i,categories:c}){const{t:a}=f();return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx(y,{title:a("allAds")}),e.jsx(v,{}),e.jsx(N,{}),e.jsxs("div",{className:"drawer drawer-end",children:[e.jsx("input",{id:"my-drawer-4",type:"checkbox",className:"drawer-toggle"}),e.jsx("div",{className:"drawer-content  flex justify-end container mx-auto px-2 py-4",children:e.jsxs("label",{htmlFor:"my-drawer-4",className:"drawer-button inline-flex items-center gap-2 px-5 py-2 rounded-lg bg-gradient-to-r from-main to-blue-600 text-white font-semibold shadow-lg hover:from-yellow-500 hover:to-yellow-700 transition-all duration-200 cursor-pointer",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})}),a("categories")]})}),e.jsxs("div",{className:"drawer-side",children:[e.jsx("label",{htmlFor:"my-drawer-4","aria-label":"close sidebar",className:"drawer-overlay"}),e.jsx("ul",{className:"menu bg-base-200 text-base-content min-h-full w-80 p-4",children:e.jsx(S,{categories:c,ads:i})})]})]}),e.jsxs("div",{className:"container mx-auto px-2 py-8 flex flex-col md:flex-row gap-8",children:[e.jsx(_,{categories:c,ads:i}),e.jsxs("main",{className:"flex-1 order-1 md:order-2 overflow-hidden",children:[e.jsx("h1",{className:"text-2xl font-bold text-main mb-6 text-center",children:"ÙƒÙ„ Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª"}),e.jsxs("div",{className:"flex flex-col gap-6",children:[i.length===0&&e.jsx("div",{className:"text-center text-gray-400 py-12 text-lg",children:"Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ø­Ø§Ù„ÙŠØ§Ù‹"}),i.map(o=>e.jsx(C,{ad:o},o.id))]})]})]}),e.jsx(k,{}),e.jsx(A,{})]})}export{$ as default};
