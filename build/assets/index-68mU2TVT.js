import{b as A,r as y,u as D,j as e,H as B,L as N}from"./app-Ct5iH9AX.js";import{A as P,X as x}from"./app-layout-BBzKg2fL.js";import{B as d}from"./app-logo-icon-0Yve0XtH.js";import{C as f,a as _,b as v,c as w}from"./card-DU8p3qUD.js";import{B as g}from"./badge-BdnIJW6o.js";import{I as o}from"./input-DyqKkm7x.js";import{L as c}from"./label-CXuXLUDl.js";import{C as $}from"./Custommodal-B-IzNWtv.js";import{E as j,D as C,P as h,S as M,a as R,b as I,T as V}from"./buttons.print-DP4qSayN.js";import{C as z}from"./CustomMultiSelect-DHa9_JJ5.js";import{C as K}from"./CustomImagePicker-az6-kg4w.js";import{u as q}from"./useTranslation-ByOnQA1x.js";import{L as k}from"./layers-C7NmJrsg.js";/* empty css            */import"./index-DeWJKqnG.js";import"./index-hwo3dVWs.js";import"./index-DFovvOyG.js";import"./index-xPyQm-QK.js";import"./iconBase-C1nRxIP1.js";function me({categories:F,subcategories:n}){const{t:s}=q(),{places:O}=A().props,p=y.useRef(null),[u,m]=y.useState(!1),S=[{title:s("dashboard"),href:"/dashboard"},{title:s("subcategories"),href:"/subcategories/page"}],{data:r,setData:l,post:L,processing:b,errors:a,reset:T}=D({title_en:"",title_ar:"",slug:"",image:"",description:"",meta_description:"",meta_keywords:"",meta_image:"",meta_robots:"",categories:[]}),E=t=>{t.preventDefault(),L(route("subcategories.store"),{onSuccess:()=>{T(),m(!1),p.current&&p.current.showModal()}})};return j.use(C),j.use(C),e.jsxs(P,{breadcrumbs:S,children:[e.jsx(B,{title:s("subcategories")}),e.jsx("div",{className:"min-h-screen bg-gray-50/50",children:e.jsxs("div",{className:"container mx-auto p-6",children:[e.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg",children:e.jsx(k,{className:"w-6 h-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-1 arabic-font",children:s("subcategories")}),e.jsx("p",{className:"text-gray-600 text-sm arabic-font",children:s("manage_your_subcategories")})]})]}),e.jsx(d,{onClick:()=>m(!u),className:"bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4"}),s("cancel")]}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"w-4 h-4"}),s("add_subcategory")]})})]})}),u&&e.jsxs(f,{className:"shadow-sm border-gray-200 mb-6",children:[e.jsx(_,{className:"bg-gray-50/50 border-b border-gray-200",children:e.jsxs(v,{className:"flex items-center gap-2 text-lg arabic-font",children:[e.jsx(h,{className:"w-5 h-5 text-gray-600"}),s("add_new_subcategory")]})}),e.jsx(w,{className:"p-6",children:e.jsxs("form",{onSubmit:E,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"title_en",className:"text-sm font-medium text-gray-700",children:[s("title_en")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{id:"title_en",type:"text",value:r.title_en,onChange:t=>{const i=t.target.value;l({...r,title_en:i})},className:`transition-colors ${a.title_en?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,placeholder:s("enter_english_title")}),a.title_en&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),a.title_en]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"title_ar",className:"text-sm font-medium text-gray-700",children:[s("title_ar")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{id:"title_ar",type:"text",value:r.title_ar,onChange:t=>{const i=t.target.value;l({...r,title_ar:i,slug:i.trim().toLowerCase().replace(/\s+/g,"-")})},className:`transition-colors ${a.title_ar?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,placeholder:s("enter_arabic_title")}),a.title_ar&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),a.title_ar]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{htmlFor:"slug",className:"text-sm font-medium text-gray-700",children:[s("slug")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(o,{id:"slug",type:"text",value:r.slug,onChange:t=>l("slug",t.target.value),className:`transition-colors font-mono text-sm ${a.slug?"border-red-500 focus:border-red-500":"focus:border-blue-500"}`,placeholder:s("enter_slug")}),a.slug&&e.jsxs("p",{className:"text-sm text-red-600 flex items-center gap-1",children:[e.jsx(x,{className:"w-3 h-3"}),a.slug]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(c,{className:"text-sm font-medium text-gray-700",children:[s("categories")," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(z,{label:"",items:F,value:r.categories,onChange:t=>l("categories",t),valueKey:"id",labelKey:"title_ar",error:a.categories})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"description",className:"text-sm font-medium text-gray-700",children:s("description")}),e.jsx(o,{id:"description",value:r.description,onChange:t=>l("description",t.target.value),className:"transition-colors focus:border-blue-500",placeholder:s("enter_description")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-sm font-medium text-gray-700",children:s("image")}),e.jsx(K,{label:"",value:r.image,onChange:t=>l("image",t),error:a.image})]}),e.jsxs("div",{className:"border-t pt-6",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-700 mb-4",children:s("meta_information")}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"meta_description",className:"text-xs text-gray-600",children:s("meta_description")}),e.jsx(o,{id:"meta_description",type:"text",value:r.meta_description,onChange:t=>l("meta_description",t.target.value),className:"text-sm",placeholder:s("meta_description")})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"meta_keywords",className:"text-xs text-gray-600",children:s("meta_keywords")}),e.jsx(o,{id:"meta_keywords",type:"text",value:r.meta_keywords,onChange:t=>l("meta_keywords",t.target.value),className:"text-sm",placeholder:s("meta_keywords")})]})]})]}),e.jsxs("div",{className:"flex items-center justify-end gap-3 pt-6 border-t border-gray-200",children:[e.jsx(d,{type:"button",variant:"outline",onClick:()=>m(!1),className:"min-w-[100px]",children:s("cancel")}),e.jsxs(d,{type:"submit",disabled:b,className:"min-w-[120px] bg-blue-600 hover:bg-blue-700 flex items-center gap-2",children:[e.jsx(h,{className:"w-4 h-4"}),s(b?"saving":"add_subcategory")]})]})]})})]}),e.jsxs(f,{className:"shadow-sm border-gray-200 p-4",children:[e.jsx(_,{className:"bg-gray-50/50 border-b border-gray-200",children:e.jsxs(v,{className:"flex items-center gap-2 text-lg",children:[e.jsx(M,{className:"w-5 h-5 text-gray-600"}),s("subcategories_list"),e.jsx(g,{variant:"secondary",className:"ml-2",children:(n==null?void 0:n.length)||0})]})}),e.jsx(w,{className:"p-0",children:n&&n.length>0?e.jsx("div",{className:"overflow-hidden",children:e.jsxs(j,{className:"w-full",options:{dom:"Bfrtip",buttons:[{extend:"copyHtml5",text:s("copy"),className:"btn btn-sm bg-blue-600 text-white hover:bg-blue-700 border-0 rounded-md px-3 py-1 mr-2"},{extend:"excelHtml5",text:s("export-to-excel"),className:"btn btn-sm bg-green-600 text-white hover:bg-green-700 border-0 rounded-md px-3 py-1 mr-2"},{extend:"csvHtml5",text:s("export-to-CSV"),className:"btn btn-sm bg-orange-600 text-white hover:bg-orange-700 border-0 rounded-md px-3 py-1 mr-2"},{extend:"pdfHtml5",text:s("export-to-pdf"),className:"btn btn-sm bg-red-600 text-white hover:bg-red-700 border-0 rounded-md px-3 py-1 mr-2"},{extend:"print",text:s("print"),className:"btn btn-sm bg-gray-600 text-white hover:bg-gray-700 border-0 rounded-md px-3 py-1"}],responsive:!0,pageLength:10,language:{search:s("search")+":",lengthMenu:s("show")+" _MENU_ "+s("entries"),info:s("showing")+" _START_ "+s("to")+" _END_ "+s("of")+" _TOTAL_ "+s("entries"),paginate:{first:s("first"),last:s("last"),next:s("next"),previous:s("previous")}}},children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("title_en")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("title_ar")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("image")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("categories")}),e.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:s("actions")})]})}),e.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:n.map(t=>e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.title_en}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:t.title_ar}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.image?e.jsx("img",{src:t.image,alt:t.title_ar,className:"h-12 w-12 object-cover rounded-lg border border-gray-200"}):e.jsx("div",{className:"h-12 w-12 bg-gray-100 rounded-lg flex items-center justify-center",children:e.jsx(R,{className:"w-4 h-4 text-gray-400"})})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:e.jsxs("div",{className:"flex flex-wrap gap-1",children:[t.categories&&t.categories.length>0?t.categories.slice(0,2).map((i,H)=>e.jsx(g,{variant:"outline",className:"text-xs",children:i.title_ar},H)):e.jsx(g,{variant:"secondary",className:"text-xs",children:s("no_categories")}),t.categories&&t.categories.length>2&&e.jsxs(g,{variant:"secondary",className:"text-xs",children:["+",t.categories.length-2]})]})}),e.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{href:`/subcategory/edit/${t.slug}/${t.id}`,children:e.jsxs(d,{variant:"outline",size:"sm",className:"flex items-center gap-1",children:[e.jsx(I,{className:"w-3 h-3"}),s("edit")]})}),e.jsx(N,{href:"#",onClick:i=>{i.preventDefault(),window.confirm(s("are-you-sure-delete"))},children:e.jsxs(d,{variant:"outline",size:"sm",className:"text-red-600 hover:text-red-700 hover:bg-red-50 flex items-center gap-1",children:[e.jsx(V,{className:"w-3 h-3"}),s("delete")]})})]})})]},t.id))})]})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(k,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:s("no_subcategories_found")}),e.jsx("p",{className:"text-gray-600 mb-4",children:s("create_your_first_subcategory")}),e.jsxs(d,{onClick:()=>m(!0),className:"bg-blue-600 hover:bg-blue-700",children:[e.jsx(h,{className:"w-4 h-4 mr-2"}),s("add_subcategory")]})]})})]}),e.jsx($,{modalname:p,message:s("subcategory-added-successfully")})]})})]})}export{me as default};
