import{r as i,j as t}from"./app-Ct5iH9AX.js";const u=({label:d,value:e,onChange:l,error:a})=>{const[n,s]=i.useState(typeof e=="string"?e:e instanceof File?URL.createObjectURL(e):null),r=i.useRef(null);i.useEffect(()=>(typeof e=="string"&&e?s(e):e instanceof File?s(URL.createObjectURL(e)):s(null),()=>{e instanceof File&&URL.revokeObjectURL(n||"")}),[e]);const m=o=>{const c=o.target.files&&o.target.files[0];c&&(s(URL.createObjectURL(c)),l(c))},f=()=>{s(null),l(null),r.current&&(r.current.value="")};return t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:d}),t.jsx("div",{className:"flex items-center justify-center border-2 border-dashed border-gray-300 rounded-lg cursor-pointer h-32 bg-gray-50 hover:bg-gray-100 transition",onClick:()=>r.current&&r.current.click(),children:n?t.jsx("img",{src:n,alt:"Preview",className:"h-full object-contain rounded"}):t.jsx("span",{className:"text-gray-400",children:"Click to select image"})}),t.jsx("input",{ref:r,type:"file",accept:"image/*",className:"hidden",onChange:m}),n&&t.jsx("button",{type:"button",onClick:f,className:"mt-2 text-xs text-red-500 underline",children:"Remove"}),a&&t.jsx("div",{className:"text-red-500 text-xs mt-1",children:a})]})};export{u as C};
